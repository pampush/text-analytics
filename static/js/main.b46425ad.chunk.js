(this["webpackJsonpthemostgames-test-assignment"]=this["webpackJsonpthemostgames-test-assignment"]||[]).push([[0],{33:function(e){e.exports=JSON.parse('{"en":["a","e","i","o","u"],"ru":["\u0430","\u0438","\u0435","\u0451","\u043e","\u0443","\u044b","\u044d","\u044e","\u044f"],"de":["a","e","i","o","u","\xe4","\xf6","\xfc"],"fr":["a","e","i","o","u","\xe0","\xe2","\xe6","\xe8","\xe9","\xea","\xeb","\xee","\xef","\xf4","\u0153","\xf9","\xfb","\xfc","\xff"],"es":["a","e","i","o","u"],"it":["a","e","i","o","u"],"is":["a","e","i","o","u","\xe1","\xe9","\xed","\xf3","\xfa","\xfd"],"da":["a","e","i","o","u","\xe5","\xe6","\xf8"],"tg":["\u0430","\u0438","\u0435","\u0451","\u043e","\u0443","\u044b","\u044d","\u044e","\u044f","\u04ef","\u04e7","\u0456",""]}')},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r,a,c,s,o,i=n(0),u=n.n(i),l=n(15),j=n.n(l),d=n(6),b=n(8),O=n(4),m=n(5),f=n(1),h=Object(m.c)(r||(r=Object(O.a)(["\nfrom {\n  opacity: 0;\n  transform: translateX(-50%) scale(0);\n}\nto {\n  opacity: 1;\n  transform: translateX(-50%) scale(1);\n}\n"]))),v=Object(m.c)(a||(a=Object(O.a)(["\nfrom {\n  opacity: 1;\n  transform: translateX(-50%) scale(1);\n}\nto {\n  opacity: 0;\n  transform: translateX(-50%) scale(0);\n}"]))),p=m.b.div(c||(c=Object(O.a)(["\n  display: flex;\n  font-size: 2rem;\n  padding: 1rem;\n  background-color: red;\n  position: fixed;\n  left: 50%;\n  bottom: 1rem;\n  transform: translateX(-50%);\n  transform-origin: center\n  background-color: #f97c7c;\n  border-radius: 1.5rem;\n  box-shadow: 0 0 1rem -0.3rem #000000;\n  animation: ","\n    linear .2s;\n"])),(function(e){return e.animation?Object(m.a)(s||(s=Object(O.a)(["\n          ","\n        "])),h):Object(m.a)(o||(o=Object(O.a)(["\n          ","\n        "])),v)}));var x=function(e){var t=e.open,n=e.message,r=e.onClose,a=e.autoHideDuration,c=u.a.useState(!0),s=Object(d.a)(c,2),o=s[0],i=s[1];return u.a.useEffect((function(){if(a&&t){var e=setTimeout((function(){return i(!1)}),a);return function(){return clearTimeout(e)}}}),[t]),Object(f.jsx)(f.Fragment,{children:t&&Object(f.jsx)(p,{animation:o,onAnimationEnd:function(){o||(r(),i(!0))},children:n})})},g=n(2);var E=function(e){return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{height:"20rem",width:"20rem",className:"card__img"}),Object(f.jsx)("div",{className:"card__title",children:e.text}),Object(f.jsxs)("div",{className:"card-info card__words",children:[Object(f.jsx)("div",{children:"\u0421\u043b\u043e\u0432"}),Object(f.jsx)("div",{children:e.words})]}),Object(f.jsxs)("div",{className:"card-info card__vowels",children:[Object(f.jsx)("div",{children:"\u0413\u043b\u0430\u0441\u043d\u044b\u0445"}),Object(f.jsx)("div",{children:e.vowels})]})]})};var T=function(){return Object(f.jsx)("div",{className:"card-skeleton"})};var _,y=function(){var e=Object(b.c)((function(e){return e.texts})),t=e.loading,n=e.items;return Object(f.jsx)(f.Fragment,{children:t?Array(3).fill(0).map((function(e,t){return Object(f.jsx)(T,{},t)})):Object.entries(n).map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(f.jsx)(E,Object(g.a)({},r),n)}))})},S=n(18),w=n(7),N=n.n(w),k=n(10),R=m.b.div(_||(_=Object(O.a)(["\n  color: #e7320d;\n  font-size: inherit;\n"])));var A,D=function(e){var t=e.message,n=e.errors;return Object(f.jsxs)(R,{children:[Object(f.jsx)("span",{children:t+" "}),Object(f.jsx)("span",{children:n.join(", ")})]})},X=m.b.button(A||(A=Object(O.a)(["\n  background: #f2f4f8;\n  width: 100%;\n  height: 100%;\n  font-size: inherit;\n  padding: 1.1rem;\n  color: #5964cc;\n  border-radius: 1.5rem;\n  cursor: pointer;\n  border-style: none;\n  &:hover {\n    background-color: #c3c3c3;\n  }\n  &:active {\n    transform: translateY(0.1rem);\n  }\n"])));var C,z=function(e){var t=e.onClick,n=e.value,r=e.size;return Object(f.jsx)(X,{size:r,onClick:t,children:n})},L=m.b.input(C||(C=Object(O.a)(["\n  padding: 1rem;\n  font-size: inherit;\n  border-style: none;\n  border-radius: 1.5rem;\n  width: 100%;\n  height: 100%;\n  background-color: #f2f4f8;\n"])));var I,G=function(e){var t=e.size,n=e.placeholder,r=e.name,a=e.onChange;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(L,{inputSize:t,placeholder:n,name:r,onChange:function(e){return a(e.target.value)}})})},M=n(17),F=n.n(M);!function(e){e.ADD_TEXT="@@texts/ADD_TEXT",e.SET_LOADING="@@texts/SET_LOADING",e.RESET_TEXTS="@@texts/RESET_TEXTS",e.SET_META="@@texts/SET_META",e.SET_ERROR="@@texts/SET_ERROR"}(I||(I={}));var J=function(e){return{type:I.SET_LOADING,payload:e}},P=function(e){var t=Object.assign({},e);return{type:I.SET_META,payload:Object(g.a)({},t)}},Q=function(e){return function(){var t=Object(k.a)(N.a.mark((function t(n){var r,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get("".concat("https://tmgwebtest.azurewebsites.net/api/textstrings/").concat(e),{headers:{"TMG-Api-Key":"0J/RgNC40LLQtdGC0LjQutC4IQ=="}});case 3:return r=t.sent,a=r.data,n((c={id:e,text:a},{type:I.ADD_TEXT,payload:c})),t.abrupt("return",Promise.resolve(a));case 9:throw t.prev=9,t.t0=t.catch(0),console.error(t.t0.message),new Error(t.t0);case 13:case"end":return t.stop()}var c}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},H=function(){var e=Object(k.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("https://translation.googleapis.com/language/translate/v2/detect?q=".concat(t,"&key=AIzaSyDnEjxJ2_Lk0SiuGWpW9f13xygv82rOnyk"),{method:"POST"});case 3:return n=e.sent,r=n.data,e.abrupt("return",Promise.resolve(r.data.detections[0][0].language));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0.message),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),W=n(33);function q(e,t){var n=0;try{for(var r=0;r<e.length;r++){var a;(null===(a=W[t])||void 0===a?void 0:a.includes(e[r]))&&n++}return n}catch(c){return console.error(c.message),0}}function B(e){return e.split(" ").length}var K=function(){var e=Object(b.b)(),t=u.a.useState(""),n=Object(d.a)(t,2),r=n[0],a=n[1],c=u.a.useState([]),s=Object(d.a)(c,2),o=s[0],i=s[1];console.log("render");var l=function(){var t=Object(k.a)(N.a.mark((function t(){var n,a,c,s,o,i,u,l,d,b,O;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=j(r),a=n.correct,c=Array.from(new Set(a)),e({type:I.RESET_TEXTS}),e(J(!0)),s=0,o=c;case 5:if(!(s<o.length)){t.next=27;break}return i=o[s],t.prev=7,t.next=10,e(Q(i));case 10:return u=t.sent,l=u.text.toLowerCase(),t.next=14,H(l);case 14:d=t.sent,b=q(l,d),O=B(l),e(P({id:i,lang:d,vowels:b,words:O})),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(7),e((m="\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(t.t0.message),{type:I.SET_ERROR,payload:m})),console.error(t.t0.message);case 24:s++,t.next=5;break;case 27:e(J(!1));case 28:case"end":return t.stop()}var m}),t,null,[[7,20]])})));return function(){return t.apply(this,arguments)}}(),j=function(e){return e.split(/[,;]+/).reduce((function(e,t){if(!t.trim())return e;if(-1!==t.trim().search(/^0*([1-9]|1[0-9]|20)$/)){var n=Number(t.trim());return Number.isNaN(n)?Object(g.a)(Object(g.a)({},e),{},{incorrect:[].concat(Object(S.a)(e.incorrect),[t.trim()])}):Object(g.a)(Object(g.a)({},e),{},{correct:[].concat(Object(S.a)(e.correct),[n])})}return Object(g.a)(Object(g.a)({},e),{},{incorrect:[].concat(Object(S.a)(e.incorrect),[t.trim()])})}),{correct:[],incorrect:[]})};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"search-input__container",children:[Object(f.jsx)("div",{className:"search-input__field",children:Object(f.jsx)(G,{name:"search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432",size:"small",value:r,onChange:function(e){var t=j(e).incorrect;t.length?i(t):i([]),a(e)}})}),o.length?Object(f.jsx)("div",{className:"search-errors",children:Object(f.jsx)(D,{message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f:",errors:o})}):null]}),Object(f.jsx)("div",{className:"search-button",children:Object(f.jsx)(z,{onClick:l,size:"small",value:"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})})]})};var U=function(){var e=u.a.useState(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(b.c)((function(e){return e.texts.errors}));return u.a.useEffect((function(){a.length&&r(!0)}),[a]),console.log("page",n),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"search",children:Object(f.jsx)(K,{})}),Object(f.jsx)("section",{className:"cards",children:Object(f.jsx)(y,{})}),Object(f.jsx)(x,{open:n,message:a,autoHideDuration:5e3,onClose:function(){return r(!1)}})]})};var V=function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(U,{})})},Y=n(12),$=n(34),Z=n(14),ee={items:{},errors:"",loading:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ADD_TEXT:return Object(g.a)(Object(g.a)({},e),{},{items:Object(g.a)(Object(g.a)({},e.items),{},Object(Z.a)({},t.payload.id,t.payload.text))});case I.RESET_TEXTS:return ee;case I.SET_LOADING:return Object(g.a)(Object(g.a)({},e),{},{loading:t.payload});case I.SET_META:var n=t.payload;return Object(g.a)(Object(g.a)({},e),{},{items:Object(g.a)(Object(g.a)({},e.items),{},Object(Z.a)({},n.id,Object(g.a)(Object(g.a)({},e.items[n.id]),{},{vowels:n.vowels,words:n.words,lang:n.lang})))});case I.SET_ERROR:return Object(g.a)(Object(g.a)({},e),{},{errors:t.payload});default:return e}},ne=Object(Y.b)({texts:te}),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.c,ae=Object(Y.d)(ne,re(Object(Y.a)($.a)));n(62),n(63);j.a.render(Object(f.jsx)(u.a.StrictMode,{children:Object(f.jsx)(b.a,{store:ae,children:Object(f.jsx)(V,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.b46425ad.chunk.js.map